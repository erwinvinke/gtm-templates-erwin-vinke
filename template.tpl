___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Spotler Activate CDP - Conversion API",
  "categories": ["ADVERTISING","PERSONALIZATION"],
  "brand": {
    "id": "gtm-templates-erwin-vinke",
    "displayName": "gtm-templates-erwin-vinke",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAWzUlEQVR42u2df4Rd1xbHv64xRoxRETEixqiIrKV/1FMRUf0rRsVaETHiqYiIihgRUfVE/3hU1RM1on/FqBhRoyqiKmpEREXFU2NERPWP8USMMUbEFdeIuMZ9f+w9955zf5577zn3nn3OPhzzJT/mnnP33uuz114/ANY9YP0GrK/AWgFppfqTxP4MaO7llmQ1hfRLkHwD1knUrkKimmQPWKfBegwksyC5BtJ5sP4I0gcg/ROsayDdBOsbsL6rvefqZ38H0jdg3QTrGlhXQPrA/B8yD9JrYJkFyzGwvg/WPQN5tsxrM/hrg7yq20wA0ui61f8Tm64OoDWwzoF0H1iCDxrfxToK1kmwHAfrFZAugOQPsK6D5A1Iyr09h3SjyyB5A9YN87tlAaxXwHocrAfAOgp/dfWlvmq6sjdMCAn/WXr0C7BeAutEIu+HdAqs58B6y6zKUmxheXrTwZ/96yJYV8C6ANJzIJ3yK31nCxD+UuoHexx3EhPADPyrgRWvEHjA3jRpAaSTYD1tB/zaQCZzsveaeRY5A5JJkPb/njKlm7K6tGHu4M+h6CJY/w3S/TFZwBGwToH0EkiXjUW0v6+6siaoeZC3vgLLsrWYU2Ad8RaguhrVfyHtzHe3q53EoXfA+iNYD8U08CdAcsEO+lKMn7NLBOphXxWPLtnJcMHiY04nwOBMcT8ItQLWj8FV892b2WMdBekJsN6pDvqhP1v9gjMEzVoCyR2wnLBImacJEDTHdZYgaBFCJrwLL0d/Ls7XYP0XWMfbPEiU1X4/WOfAugrS8mCxo8Ndfa+aAi1lkKyCdA4s8SBm6i/qEle6c9n1jkwkv4P0CEgKHWZym4EvB0F6A6ybCSBZfDqVt2yC5AZYD3oEGizuvLar9UhPqMNaACmD5DZI36Yf71KAQG21vgXpIljZIqhHoGQQSCtgfQKS4IuO8iC7E7kA1iN24JdShTnOIFBbXQLLbVDDRPAIFAMCla25He9hJsOczupNu5lLL+o4hUAt75J915PZsADtTHOzO/4XugHWmcABTTdenQmwXq+eztJQ3Yq96UHESiWji2C9HnChOnoQRnVxO9wslqePL7nlLRWQ/g6W7v36JibnFFifhdHL0Zud1s/tdzHqLgJxtx6SWEIAbvW0erAeBOtd4850DHXaxgI5rctgvWs9Rh6BOtzbYJ3r2lyRjoHlsg34arRUHoFSoKVoPXhjHoGa/9stkEhXXgTWAlgP2dj4HedxJ3sIVK93TA6EHHLDWzQ4BFoH64ddzVAz+M/ZRJKkY408AsWrt8B6PpCbkWsEWgHrdJesvxekS5FCrT0CpVRrBaRLINmXXwRi/R2sB7pEnqPGw5NB3Mk+AjVq1mf2Oy3kDIHkEVjf6xJ7LtgguEGHW3sESlYXwXohTwj0S12ceYdsLBkH63xP2WYegVzS86DQiX8mEeiXwMofBXsmQfJrbpAnbwjU4BmU+3WhFFlCIHkUSFCPstmdAuvT/g7XPAI5p82+YCpFKZGxJGv/blf++rieFpNPjoFlvf/BpO5qlz97/8UA1sF6LEUIFKEuUOuw55XuvD0yA5KtHmvjJFxraJBa8q63wDozzLpArVf96CvuuvXzN5tlzX7npyZ0Oa5VxWUEyuEeoNERUALrSVcRaMue8BZa3PWD/6yNB4pxMHkEygAObYPlrGMIpNtglS6szVmQlOI1ox6BMqONJTjrEgLNRShVEsSe7WRWEo9AGdLbg8Wh3hHoVhvsCU8Klplki095BMoYDpVAMpNeBDLuzmjFaEmOxePt8QiUL61b1kWaOgTasGmMEQ+5ZD351cMjUEa9Q+t1UcRDR6Cy9dl2Rh9TqeHpYAaTR6AM49AzsEymAIG0ApYbtnpDJ+wZB+/G9iRtLj0C5cA7dN+WzBkiArE8qavb0y6keX6wK4ZHoBzg0PwwEeg1SDgC9hTAciG6O9UjkEedrha6CwG3+wARqObv72RNPgLp6z57YHkE8rqVLoLl6KAR6PcWnUTqsWcvSJ8NaWXwCJQf/Qyk+waFQK/BeiQa+rRJYPcI5BEoXr3Ud7OUjghkfv4rUJ+/XRL7ufZtUT0CeQSKWbOej+SR7BmBTFui8TZmZHf1P9S5bo9HII9AsVea2KrrFxcnAskOWD/uiD6kY2B9EK0JhEcgj0Cx6wf9l2Gkpl6fH6N5feQyaLdcoXgE8gg06HihHZDOxYtAptb+oY6mw1RpLqbEP+wRKL+62F9V6sY9wL/rzEUzr8+oLYfdRR8sj0AegRLTd8Ey2j8Csb6I1IGd9RRIy9FNfc4RiPWddSmvg+VvsD4G629gvQfWn8ByF6y/gvUhWJ6C9AVIX1UTiDz2dBoDZbCeigOBrnY0HaYt0bOUHZGnTW/ZAK6vwToL1o8MMspYi4y58LtmGQHrPrAwWE+A9BpYF8H6V2Yq4sWu5TlYJnpEIDGrf5Q2N6TXu/oS8nG/stXOroD1cJeHNF0uWLIXrKfBegukf1uPnQPtVhNv51oB6/XeLIC5LzX507qVSSfBUgzVCe2kk8aM4W1e39gSkP8E6f6hVD5mHQfrcRN9Ky/BslP7DoL1XHOji92XXDSDaK1jiiNpASw3c+eladQvwfoVWN+PcdD3H9NCOmFx62GOLG+zA9zvu2vobf7RXITV5ki1mBXlDIHMBFi1q/1YzFlJSViGf9h4mbe5wyFTfIG7sADyElyNrmu+Mpl4n9sh5MgDAlU3V/pZchlJSeGRjIDlQ+Npknf5wiG9Hd06s37b8S+TcqiUYS4QSIONoJO+kkv6Zh0B64y1YHlBoaAV6IhAkxH2Cbd7rmnv5C0/B0p3J12bZlBl8EfA+mW1+072cWgxnpWJ5SBI34ZPLzOKQKybYD3nbtfzCP3XSD4A66Mc4NBbkB6MY+W4UW1xk2UEInkM1sNDGpqDrYrMOmbRt5xxj9CNKO+k0GbF2G9XxUqGEagM1puBVX/QTRqGaRE+BetGdnFIN0H9tGJinWsewJUZBCqB9FJdznN+LtYCSI+A9XlmcYhkrteXMwrW1doEyBwClewKmIbetcPtk8VyACyPM4pCT+use0QEYj0B1nJjh78sIJBsgOVYSlp1puMinTDV/DKGQyZS9EQvL+RO6xh2lxFINgZTddhJJBoHyf1wX+gMaNY73b6ICYMIgUGWDQQqpXTwp6dzOul7GYwnKtU1be+AQGTLGzZtcuwoApGWwPJpejqUpwyBwmEU+8D6Z8ZihC5GXf1HQLrcPo3PNQSSMlgvpWTD6woOTdsMtmzgEOtyNG+f6dxeasAetxHoZspdnYVUatZPamMhExg01RmBjF+8kiEEejzEQy43ESiMQ5fBupMNj5Bc6uT5KYTwx3UEMqfYhz3P9DUBRsG6lJFDseX2GEw6aasRVDKBQKznHBlmhVRrExKzkYnc7Vr0cxMEIj3dMIjdRaCfLfqkEXvcQaDa3vBMNXjOXQSqgPVMGwsgt+pWUDcRyCSzTHl+iXUCjIDl5wwcit1q95BrdX3BHESgXstjeATqqE1eeNHxEOm15gjEMtV0EDuHQPK87tTPI1Cc0aOsX2cgTHq62cOda7KJdAuBzM/PPK8kOgneM7X5XT4Uk3PNHuxWk9aoriHQqnPVG1xCoFq80PVAiIGLGLQQRiAT+7+SAQT6pyPY4yYCBWOFSNcdjgtaDTTWsJUhdjc3riIQ6UtbtMpfg5kE/3HYI1QE64HgBDjeoju8OwhE+pXDw6ngnGY9DJJthz1Cx2sPRXql5eB2AYFModr3HcIetxGoei6gvzhcTfpK8ABsoc6T4hYCmSrNPtR58JPgtMPlE38IToA/nEag2ubXI9BAY4RkzN2DMXmyO/j3gGXdYQR6Zds6FTwCDcUKLDoaF7QB1j0m84f0jcMIdN/jz1AnwKyjCGT3jazHQFJ2GIGuZGAYFZzVrFNgcRGDdowniHU27FN3DYHksIPYkx0EMpPgiaOHYrMA67UGdHEHgbY8/qTgIvnO0UOxLwDS71riSvoR6H5GhlDBaW2SZVw8DJsHWH90FoFIvnYUe7KGQIfcTJyXJYDkgbMIxDrr+SMVcUF7wfrSQQR6AJD86SgCvQPrRx6BUqBN+6X/OohAK7U0SPcQ6DVYD3oESg0G3XXQC7QGsG46iUCs6+GYbn8NeQJ852CC/BbA+sZRBPo7QytowXnN8qWDDdBLAOk7RxHoscPYk0UEuuggApXRFF3c8AL95rkjZTFBznmBtIKG1doVBGK95xEoVQgkTh6GhdvhaJMVvO7uPlsrqU3wT37ZTZUF+LTlmEnz3bBaJ5OyGL9mvVvH066vpG7vZ1hOVkkhSBBp1yB9F/7DCP+4t3KFMWv51SNQijTtpkeGTurTrVnLqCbDuIdADz13pAqBPnMOf1hL9iDMQQQieeoRKEWa9KqDCLRlQiFcRCDWF2AZ8QiUmiYaXzuHQGRCIVYcRaBXYN3n2SM1CLTonhfIBMM9cNQLtA0W9giUAm3Kpj9yEIEemIQYJ71AWgHrCY9AqcgIGwfr3w56gZYAknknEcjoa5490oA/chAk2w56geYB0mtueoG0ApZFj0CpQKBPQiEz7iDQFwDLrMMI9JdHoFQg0JcOeX6CY3MWYDkGlrKTCGQm5l7PIEP3AP3qIP5UC2NN2/LiDiKQVsB62iPQEDXrhM3OcwuBqFYacY95ACcRqAKSWx6BhqhZPwZr2UEEssVxzUP84agXyKRGutkYLyv4842TYdCsT4LH2AsOI9BOoN2NR6CBhkBrASR/ORcCbe4fas/EesVZBKqWuPMINIQQ6A/CeeAOIRAFq4qzHncYgUyHSNMd3l+DukgLYL3pJP6YcXw8iEAHEm11k7gFkB1bJtEj0OAOv/aC5IWTWWCmOcaBIALVGmU7iUDieoKMi4dfn4WJwSm9CpKxepO24C4CVT/XPzybDMTzMwqSFYfxZ6Fx9SE95zAC7T7YUiBJxiNQcodfJ8Fads/zU9XnGr8H0inHEagC1rdg/dAjUILaxP4/cdLzUxs3080LKrCsOY1A5uc9sI54TkkMf045iz60WxG6+epTAOstxxGoAtZ3IJ3xCJSI52cCrE8dxZ5dfat1bVaSM44j0K5eBTllBVzx/Fxz2POzOzbONB/8ZgJM2mRzdxGo9hm/BIvvIBkf+hwB62un8YfkFVgnWyOQOd1bdhuBqvo1WD/wCBRLzM8IWH9zGHt2F8hl21a3ZXn6AkgvZQCBdv/OI7CMeQTq2/PzubvYE0KgSy2eMWTqpsBSch6Bak0/vvX80lfMz0emi5DT6GO6wZBMtVt9guZuOQMIVOsCwvppoKO8R6DoB177wfLUaeyp6WWQjHTq0LM7CS5kAoFqegOkRzwCdX3gdc997KmOlYttnrcBgyZAWnIfgUL6OUgOeKaJ5PEZqXZ9zMStpXbh8oWmppjkTiYQKIxDj0GhF+ERqAF7pGD9/eUMYM+uvhO1SWHwRZxoGfDkHgIF6x79CpZxj0AtNMnn9jS9kg3Pj5YDJTQjIhCqOQKrGUKgoHfoPkjf86wTigMrgPRzkOxkB32kYkM3RqOsPvUmogDSuUwhUBiHHtaVV88vAhnmvwaub5eVCX2lmz7NdS5R2Q/WzWwhUEj/aUNj84tAxtvznaO1fTp5fjbBMhnhPbQ7CJEb2UOgEA6tg/WTnHp79oP1XqaQJzxWb3Sz+jQikHlJB22iSbYQKIxDJZBcBstobhCI9aNaaHPmsGc3OWoqwjtpOxl2j8MXM4pAQb0DkiWw7s80Ahne/9xWRqhkDntq426xi/fT0VSyXSUziEANegMss/bYPHshzSS/ZRZ5gnE/rNzt6tMcgWobpduZRaBGXQbrzzYG3n0EMplc10yIeOZQp1nZw8UmYc99IJDBIGMFsotAzXQRrF+DEz8zSNLDc6rK+llEnUbPTwkUWv1jQCDYQqisN3OAQM08RVsgvQ4ayv6gF9QZNaVL5EkOcKc+7uf7OqsdAwLVPEKTPZVQdA+BmnmKdmvK/wesh+sqTwwfgUw2315bsW3F8bo9/VjsyS7fYUQEqq0u18MDMdMI1Epvg/UXsJ4G69hQEYjVVGk21vlFblCnuefnqx7fZ1fmdQIkz/OFQG11Eax3wDob8DsnjTgTtjPLNyD9K/Qe8nqzPO+1Qnh0BKp5FU6FTWwOEKij1gpIiyB5YkMLzoD1kMWSkZ4QyOy7xs1hpHwCli9tQ7r1jIUr96vLYD3VI0Z2iUC1TdbdHCNQ9MM100Duv/Z9fWcH8UVjMURMuqacBOlpkH4GkqvW87QI1kdg/dsiV/6QJrrn525dxGeCCFSbBAcjbYizj0DxaH/3Gu9TBOvBODZg0RGo5mees6ucR6B4vExed3fgtQOSuT49aT0gUM0KjIH0gUegPrTHmH70w4AXrjBYBKql0B0C65ZHII9AA763wHoozmP47hGo5qk47xHII9CALef5QLzPkBAonE+65BHII9CADrx+qgt2GyICVY/iZR9Yn3kE8giUsNfnOSiUyz1kBArj0NGmrlGPQB6B4tFFsB6NOVw8BgQKR4xe8AjkESihA68LCeVnxBzAxTrvEcgjUIxxPhWw3kw6GaN/BKqF5o6D9L5HII9AMTW2uA/S8YQy5mJEoDAOTVY3xR6BPAL1jj3P6toaOYBAtUkwDdZ1j0AegXrM7lofROGy+BEoHC90LHRS7BHII1C0OJ8tsB4bQNGAhBAovCmeqSXUewTyCNRJawksMwOsmzSAND7Wk2Dd9gjkEagD9myD9eQwqpIlg0Dhg7KztmiRRyCPQM26epZAenbA5SIHgED1kyCY4eQRyGOPserbYD07lHKRA6pkgDocKnkE8ggU6OE1UOwZDgIFNclMbN4hj0Cue3tmhtgoZMAIFMahYzZp3CNQPg+51q2rcxjYM0QECuPQNFifeQTKHfY8S0l3niEhUMgSyCS4j9ghj0CuYc9927ooDS1ih4hAYRwar0aRegTKMvbcBOt4CrAnJQhUf5FeAEvRI1DmQpqLYL2YxmLaw0eg+iR7kqPV+qMegbKgn4PkaBdNK3KIQPWadB9YlzwCZSKBfV9KUMcBBGpMsTwP1i2PQM55ebbA1dIlqb7ShUCNlqBgqyw/DJVh9AiU1nieHftdHYqpbk9OEagxr2DM1iItegRKrYenCNK5mMoVegRqgUUHQXoXLGWPQKmp1bMD1nv9Vmn2CBTdUzQKklO1TjUegYbq4TGtokZTjjqOI1Dzpn0TYP0qXIzLI9BgtBTB+hVIJxxCnQwgUOsKFN+Hutl7BEqyC/v3dZUanL7cQ6Bmn9N0S2SwLtayzjwCxahLYFkEKwdcmwVHsScjCNTsc5qzAwbJIljfegTqW7+z/co4obKEHoESRKMpsNwA66ZHoK4PsjZtt8spZPzKBgK1m3xmj3AFpE9BWvYI1FKXwfoUrFcs42cJdXKCQO0twihIT9jG1iWPQIGEdNIfwXqizp2JnOiMIlD7yTAB1osgWa4l6OcJgbRkn/1irx3WPQK5gkDtS7mPgHQKJJfBugySV+ZYP5MI9Aosy2C9DJbpQAf7PKCOR6DOVkEKYJ0E6RmwLoBlzXkEYl0D6QJYz4B0Eix5wxuPQH2i0rQNyV4A6ypI3qQWgVjegHXVftbzYJmGvzwCxaZNY/ADYP0YLFfB+gNYn4BkA6xvQLKTPALJDkjegHQDrE/sZ7hqP9MBsIzlHGk8Ag3BSuwB6/tgPQ6Ss2D9AiTzYFmysfErYP2fTewpmejJBgTasZ6pLZD+D6Qr9t8u2WIBX5iyknLc/q49Hl361/8HlgPxwnoOq80AAAAASUVORK5CYII\u003d"
  },
  "description": "Spotler Activate CDP tag template that sends the event data from the GA4 data client to the Spotler Activate conversion API.",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "spotlerActivateID",
    "displayName": "Spotler Activate ID",
    "simpleValueType": true,
    "help": "Find your Spotler Activate ID on the \u003ca target\u003d\"_blank\" href\u003d\"https://app.squeezely.tech/company/settings\"\u003eSpotler Activate settings page\u003c/a\u003e."
  },
  {
    "type": "TEXT",
    "name": "APIkey",
    "displayName": "API key",
    "simpleValueType": true,
    "help": "Find your Spotler Activate API key on the \u003ca target\u003d\"_blank\" href\u003d\"https://app.squeezely.tech/company/settings\"\u003eSpotler Activate settings page\u003c/a\u003e."
  },
  {
    "type": "TEXT",
    "name": "eventName",
    "displayName": "Event name",
    "simpleValueType": true
  },
  {
    "type": "GROUP",
    "name": "eventData",
    "displayName": "Event data",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "LABEL",
        "name": "customDataLabel",
        "displayName": "Standard parameters that you can send to Spotler Activate can be found in the \u003ca target\u003d\"_blank\" href\u003d\"https://app.squeezely.tech/documentation\"\u003eSpotler Activate API documentation\u003c/a\u003e.\u003cbr /\u003e\n\n\u003cstrong\u003eExamples:\u003c/strong\u003e userid, email, orderid, products. \u003cstrong\u003eNote:\u003c/strong\u003e the URL will be sent automatically."
      },
      {
        "type": "SIMPLE_TABLE",
        "name": "customDataList",
        "displayName": "",
        "simpleTableColumns": [
          {
            "defaultValue": "",
            "displayName": "Parameter name",
            "name": "name",
            "type": "TEXT"
          },
          {
            "defaultValue": "",
            "displayName": "Parameter value",
            "name": "value",
            "type": "TEXT"
          }
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "logsGroup",
    "displayName": "Logs settings",
    "groupStyle": "ZIPPY_OPEN",
    "subParams": [
      {
        "type": "RADIO",
        "name": "logType",
        "displayName": "debug",
        "radioItems": [
          {
            "value": "no",
            "displayValue": "Do not log"
          },
          {
            "value": "debug",
            "displayValue": "Log to console during debug and preview"
          },
          {
            "value": "always",
            "displayValue": "Always log to console"
          }
        ],
        "simpleValueType": true
      }
    ]
  }
]


___SANDBOXED_JS_FOR_SERVER___

// Load the APIs
const encodeUriComponent = require('encodeUriComponent');
const decodeUriComponent = require('decodeUriComponent');
const getAllEventData = require('getAllEventData');
const JSON = require('JSON');
const log = require('logToConsole');
const sendHttpRequest = require('sendHttpRequest');
const getCookieValues = require('getCookieValues');
const getRequestHeader = require('getRequestHeader');
const logToConsole = require('logToConsole');
const getContainerVersion = require('getContainerVersion');
const eventData = getAllEventData();
const isLoggingEnabled = determinateIsLoggingEnabled();
const event = {};

function enc(data) {
  data = data || '';
  return encodeUriComponent(data);
}

// Define endpoint
const apiEndpoint = "https://api.squeezely.tech/v1/track";
const apiToken = enc(data.APIkey);
const squeezelyId = enc(data.spotlerActivateID);

function mapData(){
  // Event data
  const url = eventData.page_location || getRequestHeader('referer');
  const cookie = getCookieValues('sqzllocal')[0];

  // Build event data model
  event.sqzly_cookie = cookie;
  event.url = url;
  event.event = data.eventName;
  
  // check for custom data
  if (data.customDataList) {
    data.customDataList.forEach((d) => {
      event[d.name] = d.value;
    });
  }
}

mapData();

const postBody = {
  data: event,
  partner_agent: 'erwin-vinke'
};

const requestHeaders = {
  headers: {
    'content-type': 'application/json', 
    'X-AUTH-ACCOUNT': squeezelyId,
    'X-AUTH-APIKEY': apiToken
  }, 
  method: 'POST'
};

// Send the request in the expected format, log a successful response
sendHttpRequest(
  apiEndpoint,
  (statusCode, headers, response) => {
    // Log to console if enabled
    if (isLoggingEnabled) {
      logToConsole(
        JSON.stringify({
          Name: 'Squeezely',
          Type: 'Response',
          EventName: data.eventName,
          ResponseStatusCode: statusCode,
          ResponseHeaders: headers,
          ResponseBody: response,
        })
      );
    }
    if (statusCode >= 200 && statusCode < 300) {
      data.gtmOnSuccess();
    } else {
      data.gtmOnFailure();
    }
  },
  requestHeaders,
  JSON.stringify(event));

function determinateIsLoggingEnabled() {
  const containerVersion = getContainerVersion();
  const isDebug = !!(
    containerVersion &&
    (containerVersion.debugMode || containerVersion.previewMode)
  );

  if (!data.logType) {
    return isDebug;
  }

  if (data.logType === 'no') {
    return false;
  }

  if (data.logType === 'debug') {
    return isDebug;
  }

  return data.logType === 'always';
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "all"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_event_data",
        "versionId": "1"
      },
      "param": [
        {
          "key": "eventDataAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_http",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://api.squeezely.tech/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "cookieNames",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "sqzllocal"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_request",
        "versionId": "1"
      },
      "param": [
        {
          "key": "headerWhitelist",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "trace-id"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "headerName"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "referer"
                  }
                ]
              }
            ]
          }
        },
        {
          "key": "headersAllowed",
          "value": {
            "type": 8,
            "boolean": true
          }
        },
        {
          "key": "requestAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "headerAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "queryParameterAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_container_data",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 26-1-2024 07:59:44


